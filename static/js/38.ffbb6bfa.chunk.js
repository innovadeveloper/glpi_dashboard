webpackJsonp([38,10],{159:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(53),l=n(51),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){var t=function(t){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,t),p(n,[{key:"render",value:function(){return s.a.createElement(e,Object.assign({glpi:l.a},this.props))}}]),n}(i.PureComponent);return Object(c.b)(t)};t.a=u},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=n.n(a),r=n(1),i=n.n(r),s=n(4),c=function(e){return o.a.createElement("div",{className:"center-block-content"},e.icon&&e.showIcon?o.a.createElement("span",{className:"icon-empty-message "+e.icon}):null,o.a.createElement("h1",{className:"empty-message"},e.message))};c.propTypes={icon:i.a.string,showIcon:i.a.bool,message:i.a.string},c.defaultProps={icon:null,showIcon:!1,message:s.default.t("commons.no_selection")},t.default=c},185:function(e,t,n){"use strict";function a(e){return"0"===e?"100%":"calc(100% - "+e+"px)"}t.a=a},186:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(0),r=n.n(o),i=n(1),s=n.n(i),c=n(191),l=function(e){for(var t=[],n=0;n<e.count;n+=1)t=[].concat(a(t),[Object(c.a)({props:Object.assign({},e,{type:e.type}),index:n})]);return r.a.createElement("div",null,t)};l.defaultProps={type:"list",count:1},l.propTypes={type:s.a.string,count:s.a.number},t.a=l},191:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(1),i=n.n(r),s=n(192),c=function(e){var t=e.props,n=e.index;return"list"===t.type?o.a.createElement(s.b,{key:"loader-"+n.toString(),speed:1.5,style:{width:"320px"}},o.a.createElement("circle",{cx:"40",cy:"45",r:"27"}),o.a.createElement("rect",{x:80,y:20,rx:3,ry:3,width:250,height:10,radius:5}),o.a.createElement("rect",{x:80,y:40,rx:3,ry:3,width:300,height:10,radius:5}),o.a.createElement("rect",{x:80,y:60,rx:3,ry:3,width:260,height:10,radius:5})):o.a.createElement(s.a,{key:"loader-"+n,speed:1.5,style:{width:"320px"}})};c.defaultProps={type:""},c.propTypes={type:i.a.string,props:i.a.object.isRequired,index:i.a.number.isRequired},t.a=c},192:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(0),o=(n.n(a),function(){return Math.random().toString(36).substring(2)}),r=function(e){var t=e.uniquekey?e.uniquekey+"-idClip":o(),n=e.uniquekey?e.uniquekey+"-idGradient":o();return Object(a.createElement)("svg",{viewBox:"0 0 "+e.width+" "+e.height,version:"1.1",style:e.style,preserveAspectRatio:e.preserveAspectRatio,className:e.className},Object(a.createElement)("rect",{style:{fill:"url(#"+n+")"},clipPath:"url(#"+t+")",x:"0",y:"0",width:e.width,height:e.height}),Object(a.createElement)("defs",null,Object(a.createElement)("clipPath",{id:t},e.children),Object(a.createElement)("linearGradient",{id:n},Object(a.createElement)("stop",{offset:"0%",stopColor:e.primaryColor,stopOpacity:e.primaryOpacity},e.animate?Object(a.createElement)("animate",{attributeName:"offset",values:"-2; 1",dur:e.speed+"s",repeatCount:"indefinite"}):null),Object(a.createElement)("stop",{offset:"50%",stopColor:e.secondaryColor,stopOpacity:e.secondaryOpacity},e.animate?Object(a.createElement)("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:e.speed+"s",repeatCount:"indefinite"}):null),Object(a.createElement)("stop",{offset:"100%",stopColor:e.primaryColor,stopOpacity:e.primaryOpacity},e.animate?Object(a.createElement)("animate",{attributeName:"offset",values:"-1; 2",dur:e.speed+"s",repeatCount:"indefinite"}):null))))},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(e){return Object(a.createElement)(p,e,Object(a.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(a.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(a.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(a.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},c={animate:!0,speed:2,width:400,height:130,preserveAspectRatio:"xMidYMid meet",primaryColor:"#f0f0f0",secondaryColor:"#e0e0e0",primaryOpacity:1,secondaryOpacity:1},l=function(e){return Object(a.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},p=function(e){var t=i({},c,e),n=e.children?e.children:Object(a.createElement)(l,t);return Object(a.createElement)(r,t,n)};t.b=p},941:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),c=n(1),l=n.n(c),p=n(198),u=n(185),d=n(21),h=n(50),f=n(55),m=n(159),y=n(942),g=n(944),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleResize=function(){var e=Object(p.a)();"small"===e?n.setState({itemListPaneWidth:"100%"}):n.setState({itemListPaneWidth:320}),n.state.mode!==e&&n.setState({mode:e})},n.propsData=function(){return{icon:n.state.icon,selectionMode:n.state.selectionMode,selectedItems:n.state.selectedItems,action:n.state.action,changeSelectionMode:n.changeSelectionMode,changeSelectedItems:n.changeSelectedItems,changeAction:n.changeAction,toast:n.props.toast,history:n.props.history,glpi:n.props.glpi,handleMessage:n.props.handleMessage,itemType:h.a.PluginFlyvemdmFleet}},n.changeSelectedItems=function(e){return n.setState({selectedItems:e})},n.changeAction=function(e){return n.setState({action:e})},n.changeSelectionMode=function(e){return n.setState({selectionMode:e})},n.stylesList=function(){var e={width:n.state.itemListPaneWidth};return"small"===n.state.mode?0===n.state.selectedItems.length&&n.props.history.location.pathname===d.a+"/app/fleets"||n.props.history.location.pathname===d.a+"/app/fleets"||n.props.history.location.pathname===d.a+"/app/fleets"&&n.state.selectionMode?e.display="inline-block":e.display="none":e.display="inline-block",e},n.stylesContent=function(){var e="100%"===n.state.itemListPaneWidth?0:n.state.itemListPaneWidth,t={width:Object(u.a)(e),height:"100%"};return"small"===n.state.mode&&(0===n.state.selectedItems.length&&n.props.history.location.pathname===d.a+"/app/fleets"||n.props.history.location.pathname===d.a+"/app/fleets"||n.props.history.location.pathname===d.a+"/app/fleets"&&n.state.selectionMode)?t.display="none":t.display="inline-flex",t},n.state={icon:"goToStartIcon",mode:Object(p.a)(),itemListPaneWidth:"small"===Object(p.a)()?"100%":320,selectionMode:!1,action:null,selectedItems:[]},window.addEventListener("resize",n.handleResize),n}return r(t,e),b(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"list-pane flex-block__list",style:Object.assign({},this.stylesList())},s.a.createElement(y.a,Object.assign({key:"list"},this.propsData()))),s.a.createElement("div",{className:"flex-block__content",style:Object.assign({},this.stylesContent())},s.a.createElement(f.a,Object.assign({key:"content",routes:g.a,rootPath:this.props.match.url},this.propsData()))));return s.a.createElement("div",{className:"flex-block flex-block--with-scroll"},e)}}]),t}(i.PureComponent);v.propTypes={match:l.a.object.isRequired,glpi:l.a.object.isRequired,history:l.a.object.isRequired,handleMessage:l.a.func.isRequired,toast:l.a.object.isRequired},t.default=Object(m.a)(v)},942:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(o,r){try{var i=t[o](r),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(49),c=n.n(s),l=n(0),p=n.n(l),u=n(1),d=n.n(u),h=n(176),f=n.n(h),m=n(52),y=n.n(m),g=n(4),b=n(50),v=n(21),w=n(180),O=n(186),j=n(166),E=n(164),x=n(943),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),k=function(e){function t(e){var n=this;o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.ItemListRenderer=f.a.reactRenderer(function(e){return p.a.createElement(x.a,{itemList:e.data,size:42})}),i.handleAdd=function(){i.props.changeSelectedItems([]),i.props.changeSelectionMode(!1),i.props.history.push(v.a+"/app/fleets/add"),i.listView&&i.listView.winControl.selection.clear()},i.handleToggleSelectionMode=function(){i.props.history.push(v.a+"/app/fleets"),i.props.changeSelectionMode(!i.props.selectionMode),i.props.changeSelectedItems([]),i.listView&&i.listView.winControl.selection.clear()},i.handleSelectionChanged=function(e){var t=e.currentTarget.winControl,n=t.selection.getIndices(),a=[],o=!0,r=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var p=c.value;a.push(i.state.itemList.getItem(p).data)}}catch(e){r=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(r)throw s}}i.props.changeSelectedItems(a),1!==n.length||i.props.selectionMode||i.props.history.push(v.a+"/app/fleets/"+a[0]["PluginFlyvemdmFleet.id"]),n.length>1&&!i.props.selectionMode&&i.props.history.push(v.a+"/app/fleets/edit/")},i.handleDelete=a(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.isOK(i.contentDialog);case 3:if(!(t=e.sent)){e.next=15;break}return a=i.props.selectedItems.map(function(e){return{id:e["PluginFlyvemdmFleet.id"]}}),i.setState({isLoading:!0}),e.next=9,i.props.glpi.deleteItem({itemtype:b.a.PluginFlyvemdmFleet,input:a,queryString:{force_purge:!0}});case 9:i.props.toast.setNotification({title:g.default.t("commons.success"),body:g.default.t("notifications.fleet_successfully_removed"),type:"success"}),i.props.changeAction("reload"),i.props.changeSelectionMode(!1),i.props.changeSelectedItems([]),e.next=18;break;case 15:i.props.changeSelectionMode(!1),i.props.changeSelectedItems([]),i.listView&&i.listView.winControl.selection.clear();case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(0),i.props.toast.setNotification(Object(w.a)({type:"alert",message:e.t0})),i.props.changeSelectionMode(!1),i.props.changeSelectedItems([]),i.setState(function(){return{isLoading:!1}});case 26:case"end":return e.stop()}},e,n,[[0,20]])})),i.handleSort=a(c.a.mark(function e(){var t,a,o,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.setState({isLoading:!0}),t=i.state,a=t.order,o=t.pagination,r="ASC"===a?"DESC":"ASC",e.next=6,i.props.glpi.searchItems({itemtype:b.a.PluginFlyvemdmFleet,options:{uid_cols:!0,forcedisplay:[2],order:r,range:o.start+"-"+(o.count*o.page-1)}});case 6:s=e.sent,i.setState({isLoading:!1,order:s.order,totalcount:s.totalcount,itemList:new y.a.Binding.List(s.data)}),i.props.history.push(v.a+"/app/fleets"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i.setState({isLoading:!1,order:"ASC"});case 14:case"end":return e.stop()}},e,n,[[0,11]])})),i.loadMoreData=a(c.a.mark(function e(){var t,a,o,r,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.setState({isLoadingMore:!0}),t={from:i.state.pagination.count*i.state.pagination.page,to:i.state.pagination.count*(i.state.pagination.page+1)-1},a=i.state,o=a.order,r=a.pagination,e.next=6,i.props.glpi.searchItems({itemtype:b.a.PluginFlyvemdmFleet,options:{uid_cols:!0,order:o,forcedisplay:[2],range:t.from+"-"+t.to}});case 6:s=e.sent;for(l in s.data)Object.prototype.hasOwnProperty.call(s.data,l)&&i.state.itemList.push(s.data[l]);i.setState({isLoadingMore:!1,totalcount:s.totalcount,pagination:Object.assign({},r,{page:r.page+1})}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i.setState({isLoadingMore:!1});case 14:case"end":return e.stop()}},e,n,[[0,11]])})),i.handleEdit=function(){i.props.history.push(v.a+"/app/fleets/edit")},i.handleRefresh=a(c.a.mark(function e(){var t,a,o,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.props.history.push(v.a+"/app/fleets"),i.setState({isLoading:!0,totalcount:0,pagination:{start:0,page:1,count:15}}),t=i.state,a=t.order,o=t.pagination,e.next=6,i.props.glpi.searchItems({itemtype:b.a.PluginFlyvemdmFleet,options:{uid_cols:!0,forcedisplay:[2],order:a,range:o.start+"-"+(o.count*o.page-1)}});case 6:r=e.sent,i.setState({isLoading:!1,order:r.order,totalcount:r.totalcount,itemList:new y.a.Binding.List(r.data)}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),Object(w.a)({message:e.t0}),i.props.toast.setNotification(Object(w.a)({type:"alert",error:e.t0})),i.setState({isLoading:!1,order:"ASC"});case 15:case"end":return e.stop()}},e,n,[[0,10]])})),i.state={layout:{type:y.a.UI.ListLayout},isLoading:!1,isLoadingMore:!1,itemList:new y.a.Binding.List([]),order:"ASC",totalcount:0,pagination:{start:0,page:1,count:15}},i}return i(t,e),S(t,[{key:"componentDidMount",value:function(){this.handleRefresh()}},{key:"componentDidUpdate",value:function(e){this.listView&&(this.listView.winControl.footer.style.outline="none",this.listView.winControl.footer.style.height=this.state.totalcount>this.state.pagination.page*this.state.pagination.count?this.state.isLoadingMore?"100px":"42px":"1px"),this.toolBar&&this.toolBar.winControl.forceLayout(),"reload"===this.props.action&&(this.handleRefresh(),this.props.changeAction(null)),e.selectedItems.length>0&&0===this.props.selectedItems.length&&!this.props.selectionMode&&this.listView&&this.listView.winControl.selection.clear()}},{key:"componentWillUnmount",value:function(){this.props.changeSelectionMode(!1)}},{key:"render",value:function(){var e=this,t=p.a.createElement(f.a.ToolBar.Button,{key:"delete",icon:"delete",label:g.default.t("commons.delete"),priority:0,disabled:0===this.props.selectedItems.length,onClick:this.handleDelete}),n=p.a.createElement(f.a.ToolBar.Button,{key:"edit",icon:"edit",label:g.default.t("commons.edit"),priority:0,disabled:0===this.props.selectedItems.length,onClick:this.handleEdit}),a=this.state.isLoadingMore?p.a.createElement(O.a,null):p.a.createElement("div",{onClick:this.loadMoreData,style:{cursor:"pointer",color:"#158784"},role:"button",tabIndex:"0"},p.a.createElement("span",{className:"iconFont refreshIcon",style:{padding:"10px",fontSize:"20px"}}),p.a.createElement("span",null,g.default.t("commons.load_more"))),o=void 0;return o=this.state.isLoading?p.a.createElement(O.a,{count:3}):this.state.itemList&&this.state.itemList.length>0?p.a.createElement(f.a.ListView,{ref:function(t){e.listView=t},className:"list-pane__content win-selectionstylefilled",style:{height:"calc(100% - 48px)"},itemDataSource:this.state.itemList.dataSource,layout:this.state.layout,itemTemplate:this.ItemListRenderer,footerComponent:a,selectionMode:this.props.selectionMode?"multi":"single",tapBehavior:this.props.selectionMode?"toggleSelect":"directSelect",onSelectionChanged:this.handleSelectionChanged}):p.a.createElement(E.default,{message:g.default.t("fleets.not_found"),icon:this.props.icon,showIcon:!0}),p.a.createElement(p.a.Fragment,null,p.a.createElement(f.a.ToolBar,{ref:function(t){e.toolBar=t},className:"listToolBar"},p.a.createElement(f.a.ToolBar.Button,{key:"sort",icon:"sort",label:g.default.t("commons.sort"),path:"/",priority:1,onClick:this.handleSort}),p.a.createElement(f.a.ToolBar.Button,{key:"refresh",icon:"refresh",label:g.default.t("commons.refresh"),priority:2,onClick:this.handleRefresh}),p.a.createElement(f.a.ToolBar.Button,{key:"add",icon:"add",label:g.default.t("commons.add"),priority:0,onClick:this.handleAdd}),this.props.selectionMode?n:null,this.props.selectionMode?t:null,p.a.createElement(f.a.ToolBar.Toggle,{key:"select",icon:"bullets",label:g.default.t("commons.select"),priority:0,selected:this.props.selectionMode,onClick:this.handleToggleSelectionMode})),o,p.a.createElement(j.a,{title:g.default.t("fleets.delete"),message:this.props.selectedItems.length+" "+g.default.t("commons.fleets"),reference:function(t){e.contentDialog=t}}))}}]),t}(l.PureComponent);t.a=k,k.defaultProps={action:null},k.propTypes={selectionMode:d.a.bool.isRequired,history:d.a.object.isRequired,changeSelectionMode:d.a.func.isRequired,action:d.a.string,changeAction:d.a.func.isRequired,toast:d.a.object.isRequired,glpi:d.a.object.isRequired,selectedItems:d.a.array.isRequired,changeSelectedItems:d.a.func.isRequired,icon:d.a.string.isRequired}},943:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(1),i=n.n(r),s=function(e){var t=e.itemList;return o.a.createElement("div",{style:{display:"inline-block"}},o.a.createElement("div",{className:"list-pane__name"},t["PluginFlyvemdmFleet.name"]))};s.propTypes={itemList:i.a.object.isRequired},t.a=s},944:function(e,t,n){"use strict";var a=n(54),o=n(4),r=[{path:"/",name:o.default.t("commons.no_selection"),component:Object(a.a)(function(){return new Promise(function(e){e()}).then(n.bind(null,164))}),exact:!0},{path:"/error",name:o.default.t("commons.error"),component:Object(a.a)(function(){return new Promise(function(e){e()}).then(n.bind(null,56))}),exact:!0},{path:"/edit",name:o.default.t("commons.edit"),component:Object(a.a)(function(){return n.e(19).then(n.bind(null,945))}),exact:!0},{path:"/:id",name:o.default.t("commons.fleet"),component:Object(a.a)(function(){return n.e(6).then(n.bind(null,307))}),exact:!0},{path:"/:id/list",name:o.default.t("commons.list"),component:Object(a.a)(function(){return n.e(33).then(n.bind(null,946))}),exact:!0},{path:"/add",name:o.default.t("fleets.add"),component:Object(a.a)(function(){return n.e(6).then(n.bind(null,307))}),exact:!0}];t.a=r}});
//# sourceMappingURL=38.ffbb6bfa.chunk.js.map