webpackJsonp([5],{133:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(r,o){try{var i=t[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}return a("next")})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(49),c=n.n(s),l=n(0),u=n.n(l),f=n(1),p=n.n(f),d=n(6),m=n(21),b=n(50),y=n(4),v=n(197),g=n(179),h=n(159),E=n(140),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=function(e){function t(e){var n=this;r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.requestValidation=function(){var e=a(c.a.mark(function e(t,a){var r,o,s,l,u,f,p,d,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.props.glpi.initSessionByUserToken({userToken:window.appConfig.demoToken});case 3:return r=e.sent,i.props.glpi.sessionToken=r.session_token,e.next=7,i.props.glpi.updateItem({itemtype:b.a.PluginFlyvemdmdemoAccountvalidation,id:t,input:{_validate:a}});case 7:if(o=e.sent,s=!1,!Array.isArray(o)){e.next=37;break}l=!0,u=!1,f=void 0,e.prev=13,p=o[Symbol.iterator]();case 15:if(l=(d=p.next()).done){e.next=23;break}if(m=d.value,!m[t]){e.next=20;break}return s=!0,e.abrupt("break",23);case 20:l=!0,e.next=15;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(13),u=!0,f=e.t0;case 29:e.prev=29,e.prev=30,!l&&p.return&&p.return();case 32:if(e.prev=32,!u){e.next=35;break}throw f;case 35:return e.finish(32);case 36:return e.finish(29);case 37:i.setState({isLoading:!1,isValidated:s}),e.next=44;break;case 40:e.prev=40,e.t1=e.catch(0),i.props.toast.setNotification(i.props.handleMessage({type:"warning",message:e.t1})),i.setState({isLoading:!1,isValidated:!1});case 44:case"end":return e.stop()}},e,n,[[0,40],[13,25,29,37],[30,,32,36]])}));return function(t,n){return e.apply(this,arguments)}}(),i.state={isValidated:!1,isLoading:!1},i}return i(t,e),w(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.replace("/validateAccount/","&validateAccount=");e=e.replace("/validation/","&validation=");var t=new URLSearchParams(e),n=t.get("validateAccount"),a=t.get("validation");n&&a&&(this.setState({isLoading:!0}),this.requestValidation(n,a))}},{key:"render",value:function(){return this.state.isLoading?u.a.createElement("div",{style:{height:"140px"}},u.a.createElement(E.a,{message:y.default.t("commons.loading")+"..."})):this.state.isValidated?u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",null,y.default.t("validate_account.title")),u.a.createElement("p",null,y.default.t("validate_account.is_validated"),u.a.createElement("br",null)),u.a.createElement("p",null,u.a.createElement(d.a,{to:m.a+"/"},y.default.t("commons.sign_in")))):u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",null,y.default.t("validate_account.title")),u.a.createElement("p",null,y.default.t("validate_account.message"),u.a.createElement("br",null)))}}]),t}(l.PureComponent);_.propTypes={toast:p.a.shape({setNotification:p.a.func}).isRequired,glpi:p.a.object.isRequired,location:p.a.object.isRequired,handleMessage:p.a.func.isRequired},t.default=Object(v.a)(Object(h.a)(Object(g.a)(_)),{centerContent:!0})},140:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),s=function(e){var t=r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}));return e.small?r.a.createElement("div",{className:"loading loading--small",style:e.style},r.a.createElement("div",null,t)):r.a.createElement("div",{className:"loading",style:Object.assign({marginTop:-e.headerSize},e.style)},r.a.createElement("div",null,t,r.a.createElement("p",null,e.message)))};s.defaultProps={style:{},small:!1,headerSize:0,message:""},s.propTypes={message:i.a.string,headerSize:i.a.number,small:i.a.bool,style:i.a.object},t.a=s},159:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(53),l=n(51),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){var t=function(t){function n(){return a(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),u(n,[{key:"render",value:function(){return s.a.createElement(e,Object.assign({glpi:l.a},this.props))}}]),n}(i.PureComponent);return Object(c.b)(t)};t.a=f},179:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),c=n(180),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){return function(t){function n(){return a(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),l(n,[{key:"render",value:function(){return s.a.createElement(e,Object.assign({handleMessage:c.a},this.props))}}]),n}(i.PureComponent)};t.a=u},180:function(e,t,n){"use strict";function a(e,t){if(t)return t;var n=void 0;return n=""!==f.a?e.split(f.a)[1].split("/"):e.split("/"),"app"===n[1]?f.a+"/app/"+n[2]+"/error":n[1]&&""!==n[1]?f.a+"/"+n[1]+"/error":f.a+"/error"}function r(e,t,n){u.a.push(a(e,n)+"?code="+t)}function o(e,t,n){l.a.getActiveProfile().then(function(){r(e,t,n)})}function i(e){return e.split(";")[0]}var s=n(4),c=n(187),l=n(51),u=n(22),f=n(21);t.a=function(e){var t=e.type,n=void 0===t?"info":t,a=e.message,l=e.title,f=e.customErrorRoute,p=e.displayErrorPage,d=void 0===p||p,m={type:n,title:l||s.default.t("commons."+("alert"!==n?n:"error")),body:a?"string"===typeof a||a instanceof String?a:a.statusText:""};if(a)switch(!0){case 0===a.status:m.body=s.default.t("notifications.no_internet_connection");break;case 401===a.status:m.body=""!==a.data[0][1]?a.data[0][1]:a.statusText,"session_token seems invalid"===a.data[0][1]&&Object(c.a)(),d&&o(u.a.location.pathname,a.status,f);break;case 404===a.status:m.body=""!==a.data[0][1]?a.data[0][1]:a.statusText;break;case a.status>=400&&a.status<500:if(a.data){var b=Array.isArray(a.data[0])?a.data[0]:a.data;Array.isArray(b)&&b[0]?b[0].message?m.body=i(b[0].message):Array.isArray(b[0])&&b[0][0].message?m.body=i(b[0][0].message):b[1]?Array.isArray(b[1])&&b[1][0].message?m.body=i(b[1][0].message):b[1].message?m.body=i(b[1].message):m.body=i(b[1]):b[0].message?m.body=i(b[0].message):m.body=i(b[0]):m.body=i(b)}else m.body=a.statusText;d&&r(u.a.location.pathname,a.status,f)}return m}},187:function(e,t,n){"use strict";var a=n(22),r=n(51),o=n(21);t.a=function(){localStorage.removeItem("currentUser"),localStorage.removeItem("sessionToken"),r.a.sessionToken&&r.a.killSession(),a.a.push(o.a+"/")}},197:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),s=n(4),c=n(23),l=n(58),u=n(57),f=n.n(u),p=function(e,t){var n=function(n){var a={textAlign:t.centerContent?"center":null,width:n.width};return r.a.createElement("div",{className:"authentication",style:a},r.a.createElement("section",null,r.a.createElement("figure",null,r.a.createElement("img",{alt:"Flyve MDM Dashboard",src:f.a})),r.a.createElement(l.a,null,function(t){return r.a.createElement(e,Object.assign({},n,t))})),r.a.createElement("footer",null,r.a.createElement("a",{href:"https://flyve-mdm.com/privacy-policy/"},s.default.t("commons.terms_and_conditions")),r.a.createElement("br",null),r.a.createElement("span",null,"\xa9 2017 - 2018 Teclib'."),r.a.createElement("br",null),r.a.createElement("select",{onChange:function(e){return n.changeLanguage(e.target.value)},value:n.languageCurrent},Object(c.default)())))};return n.defaultProps={centerContent:!0,width:340},n.propTypes={centerContent:i.a.bool,width:i.a.oneOfType([i.a.string,i.a.number]),languageCurrent:i.a.string.isRequired,changeLanguage:i.a.func.isRequired},n};t.a=p}});
//# sourceMappingURL=5.3588d89e.chunk.js.map