webpackJsonp([28],{139:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),u=n(1),l=n.n(u),c=n(143),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"componentDidMount",value:function(){this.forceAnimation()}},{key:"forceAnimation",value:function(){Object(c.c)(this.pane).play()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"content-pane "+this.props.className,ref:function(t){e.pane=t}},this.props.children)}}]),t}(i.PureComponent);f.defaultProps={className:""},f.propTypes={className:l.a.string,children:l.a.oneOfType([l.a.object,l.a.array]).isRequired},t.a=f},140:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=function(e){var t=a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"circle"}),a.a.createElement("div",{className:"circle"}),a.a.createElement("div",{className:"circle"}),a.a.createElement("div",{className:"circle"}),a.a.createElement("div",{className:"circle"}));return e.small?a.a.createElement("div",{className:"loading loading--small",style:e.style},a.a.createElement("div",null,t)):a.a.createElement("div",{className:"loading",style:Object.assign({marginTop:-e.headerSize},e.style)},a.a.createElement("div",null,t,a.a.createElement("p",null,e.message)))};s.defaultProps={style:{},small:!1,headerSize:0,message:""},s.propTypes={message:i.a.string,headerSize:i.a.number,small:i.a.bool,style:i.a.object},t.a=s},158:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(49),u=n.n(s),l=n(0),c=n.n(l),p=n(1),f=n.n(p),d=n(4),m=n(166),h=n(165),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e){var n=this;a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.change=function(e){i.props.function(i.props.name,e.target.value)},i.validate=function(e,t){if(e){var n=h.a.validation(e,t);i.setState({isCorrect:n.isCorrect,errors:n.errors,className:n.isCorrect?"win-textbox":"win-textbox error-input"})}},i.deleteEmail=r(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.isOK(i.contentDialog);case 2:t=e.sent,t&&i.props.delete(i.props.name);case 4:case"end":return e.stop()}},e,n)})),i.state={isCorrect:!0,errors:[],className:"win-textbox"},i}return i(t,e),b(t,[{key:"render",value:function(){var e=this,t=this.props.delete?c.a.createElement("span",{className:"iconFont deleteIcon",style:{margin:10,fontSize:18},onClick:this.deleteEmail,role:"button",tabIndex:"0"}):void 0;return c.a.createElement("div",{className:"froms__col"},c.a.createElement("p",null,this.props.label),c.a.createElement("input",{type:this.props.type,className:this.state.className,name:this.props.type+"-"+this.props.name,value:this.props.value||"",placeholder:this.props.placeholder,onChange:this.change,onBlur:function(){return e.validate(e.props.parametersToEvaluate,e.props.value)},disabled:this.props.disabled,style:this.props.style,ref:this.props.inputRef,required:this.props.required}),c.a.createElement(h.a,{errors:this.state.errors}),t,this.props.delete?c.a.createElement(m.a,{title:d.default.t("commons.delete")+" "+this.props.label,message:this.props.value,reference:function(t){e.contentDialog=t}}):c.a.createElement("span",null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!t.isCorrect||e.forceValidation){if(e.parametersToEvaluate){var n=h.a.validation(e.parametersToEvaluate,e.value);return{isCorrect:n.isCorrect,errors:n.errors,className:n.isCorrect?"win-textbox":"win-textbox error-input"}}return Object.assign({},t)}return Object.assign({},t)}}]),t}(l.PureComponent);y.defaultProps={label:"",value:"",type:"text",required:!1,placeholder:null,function:function(){},disabled:!1,style:{},inputRef:function(){},delete:null,parametersToEvaluate:null,forceValidation:!1},y.propTypes={label:f.a.string,type:f.a.string,name:f.a.oneOfType([f.a.string,f.a.number]).isRequired,value:f.a.string,placeholder:f.a.string,function:f.a.func,disabled:f.a.bool,style:f.a.object,inputRef:f.a.func,delete:f.a.func,parametersToEvaluate:f.a.object,forceValidation:f.a.bool,required:f.a.bool},t.a=y},159:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),u=n(53),l=n(51),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){var t=function(t){function n(){return r(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),c(n,[{key:"render",value:function(){return s.a.createElement(e,Object.assign({glpi:l.a},this.props))}}]),n}(i.PureComponent);return Object(u.b)(t)};t.a=p},160:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(49),u=n.n(s),l=n(0),c=n.n(l),p=n(1),f=n.n(p),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(e){var n=this;a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.componentDidMount=function(){i.props.glpi&&i.props.request?i.listRequest():i.handleRefresh(i.state.options)},i.change=function(e){i.props.function(i.props.name,e.target.value)},i.listRequest=r(u.a.mark(function e(){var t,r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,i.props.glpi[i.props.request.method](i.props.request.params);case 3:r=e.sent,e.t0=i.props.request.method,e.next="getMyProfiles"===e.t0?7:"searchItems"===e.t0?9:"getAllItems"===e.t0?17:"getSubItems"===e.t0?19:"getMyEntities"===e.t0?21:23;break;case 7:return r.myprofiles.forEach(function(e){t.push({content:e[i.props.request.content],value:e[i.props.request.value]})}),e.abrupt("break",24);case 9:if(!r.data){e.next=16;break}if(r.totalcount===r.count){e.next=15;break}return a={itemtype:i.props.request.params.itemtype,options:Object.assign({},i.props.request.params.options,{range:"0-"+(r.totalcount-1)})},e.next=14,i.props.glpi[i.props.request.method](a);case 14:r=e.sent;case 15:r.data.forEach(function(e){t.push({content:e[i.props.request.content],value:e[i.props.request.value]})});case 16:return e.abrupt("break",24);case 17:return r&&r.forEach(function(e){t.push({content:e[i.props.request.content],value:e[i.props.request.value]})}),e.abrupt("break",24);case 19:return r.forEach(function(e){t.push({content:e[i.props.request.content],value:e[i.props.request.value]})}),e.abrupt("break",24);case 21:return r.myentities.forEach(function(e){t.push({content:e[i.props.request.content],value:e[i.props.request.value]})}),e.abrupt("break",24);case 23:return e.abrupt("break",24);case 24:i.setState({options:t});case 25:case"end":return e.stop()}},e,n)})),i.handleRefresh=function(){var e=r(u.a.mark(function e(t){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],t.forEach(function(e){e.name?r.push({value:e.value,content:e.name}):r.push({value:e,content:e})}),i.setState({options:r});case 3:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}(),i.state={options:i.props.options},i}return i(t,e),d(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"froms__col"},c.a.createElement("p",null,this.props.label),c.a.createElement("select",{name:this.props.name,value:this.props.value||void 0,onChange:this.change,required:this.props.required},c.a.createElement("option",null,"---"),this.state.options.map(function(t,n){return c.a.createElement("option",{value:t.value,key:""+e.props.name+n.toString()},t.content)})))}}]),t}(l.PureComponent);m.defaultProps={options:[],required:!1,label:null,glpi:null,request:null,value:void 0},m.propTypes={label:f.a.string,name:f.a.string.isRequired,value:f.a.oneOfType([f.a.string,f.a.number]),options:f.a.array,function:f.a.func.isRequired,glpi:f.a.object,request:f.a.object,required:f.a.bool},t.a=m},161:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),u=n(1),l=n.n(u),c=n(171),p=n(172),f=n(173),d=n(162),m=n.n(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.change=function(e){var t=new Date,r={year:n.state.year?n.state.year:t.getFullYear(),month:n.state.month?n.state.month:m.a[t.getMonth()],day:n.state.day?n.state.day:1};r[e.target.name]=e.target.value,n.setState(Object.assign({},r),n.props.function(n.props.name,new Date(r.year+" "+r.month+" "+r.day)))};var o=new Date(n.props.value);return n.state={year:n.props.value?o.getFullYear():void 0,month:n.props.value?m.a[o.getMonth()]:void 0,day:n.props.value?o.getDate():void 0},n}return o(t,e),h(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"froms__col"},s.a.createElement("p",null,this.props.label),s.a.createElement("div",{className:"win-disposable win-datepicker"},s.a.createElement("select",{required:this.props.required,className:"win-datepicker-month win-order0",name:"month",value:this.state.month,onChange:this.change},s.a.createElement("option",null,"---"),Object(p.a)()),s.a.createElement("select",{className:"win-datepicker-date win-order1",name:"day",value:this.state.day,onChange:this.change},s.a.createElement("option",null,"---"),Object(f.a)(this.state.year,this.state.month)),s.a.createElement("select",{className:"win-datepicker-year win-order2",name:"year",value:this.state.year,onChange:this.change},s.a.createElement("option",null,"---"),Object(c.a)())))}}]),t}(i.PureComponent);b.defaultProps={required:!1,value:void 0},b.propTypes={label:l.a.string.isRequired,name:l.a.oneOfType([l.a.string,l.a.number]).isRequired,value:l.a.instanceOf(Date),function:l.a.func.isRequired,required:l.a.bool},t.a=b},162:function(e,t){e.exports=["January","February","March","April","May","June","July","August","September","October","November","December"]},163:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=function(e){return a.a.createElement("div",{className:"froms__col"},a.a.createElement("p",null,e.label),a.a.createElement("textarea",{rows:e.rows,className:"win-textarea",name:e.name,value:e.value||void 0,placeholder:e.placeholder,onChange:function(t){return e.function(e.name,t.target.value)},disabled:e.disabled,style:e.style,required:e.required}))};s.defaultProps={label:"",required:!1,rows:6,placeholder:null,function:function(){},style:{},disabled:!1,value:void 0},s.propTypes={label:i.a.string,name:i.a.oneOfType([i.a.string,i.a.number]).isRequired,value:i.a.string,placeholder:i.a.string,function:i.a.func,disabled:i.a.bool,style:i.a.object,required:i.a.bool,rows:i.a.number},t.a=s},165:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),s=n.n(i),u=n(1),l=n.n(u),c=n(4),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"error-message"},s.a.createElement("ul",null,this.props.errors.map(function(e,t){return s.a.createElement("li",{key:"errorMessage-"+t.toString()},"-",e)})))}}]),t}(i.PureComponent);f.validation=function(e,t){var n=[];if(e.isRequired&&!t&&n.push(c.default.t("validation.required_field")),e.minimunLength&&t.length<e.minimunLength&&n.push(c.default.t("validation.insufficient_characters")+" "+e.minimunLength+" "+c.default.t("validation.is_requiered")),e.needDigit){/[\d]/g.test(t)||n.push(c.default.t("validation.one_digit"))}if(e.needLowercaseCharacter){/[a-z]/g.test(t)||n.push(c.default.t("validation.lowercase_character"))}if(e.needUppercaseCharacter){/[A-Z]/g.test(t)||n.push(c.default.t("validation.uppercase_character"))}if(e.needSymbol){/[!@#%^&*?><)(+=._\-\\[\]^~`'"\u02dc$\u02c6\/:;{}|]/g.test(t)||n.push(c.default.t("validation.special_character"))}if(e.isEmail){/^[a-zA-Z0-9.!#$%&\u2019*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g.test(t)||n.push(c.default.t("validation.invalid_email"))}return e.isEqualTo&&t!==e.isEqualTo.value&&n.push(e.isEqualTo.message),e.customValidation&&e.customValidation(t)&&n.push(e.customValidation(t)),n.length<=0?{isCorrect:!0,errors:[]}:{isCorrect:!1,errors:n}},f.defaultProps={errors:[]},f.propTypes={errors:l.a.array},t.a=f},170:function(e,t,n){"use strict";var r=n(158),a=n(160),o=n(161),i=n(163),s=n(174);n.d(t,"b",function(){return r.a}),n.d(t,"c",function(){return a.a}),n.d(t,"a",function(){return o.a}),n.d(t,"d",function(){return i.a}),t.e=s.a},171:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(){for(var e=[],t=1980;t<=2100;t+=1)e.push(a.a.createElement("option",{value:t,key:"year"+t},t));return e}},172:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(162),i=n.n(o);t.a=function(){var e=[];return i.a.forEach(function(t){e.push(a.a.createElement("option",{value:t,key:"month"+t},t))}),e}},173:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e,t){var n={January:31,February:28,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31};(e%400===0||e%100!==0&&e%4===0)&&(n.February=29);var r=[];if(t)for(var o=1;o<=n[t];o+=1)r.push(a.a.createElement("option",{value:o,key:"day-"+o.toString()},o));return r}},174:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(175),u=function(e){var t=void 0;return e.icon&&(t=a.a.createElement("div",{className:"froms__row froms__row--icon"},a.a.createElement("span",{className:"iconFont "+e.icon}),e.title?a.a.createElement("span",{style:{marginLeft:"10px"}},e.title):null)),a.a.createElement(a.a.Fragment,null,t,e.data.map(function(t,n){return Object(s.a)({icon:e.icon,elements:t,index:n})}))};u.propTypes={data:i.a.array.isRequired,icon:i.a.string,title:i.a.string},u.defaultProps={icon:null,title:null},t.a=u},175:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),s=n(160),u=n(161),l=n(163),c=n(158),p=function(e){var t=e.icon,n=e.elements,r=e.index,o=t?{marginLeft:30,overflow:"hidden"}:{overflow:"hidden"};return a.a.createElement("div",{className:"froms__row",style:o,key:"fromsRow-"+r.toString()},n.map(function(e){return"select"===e.type?a.a.createElement(s.a,{label:e.label,name:e.name,value:e.value,options:e.options,function:e.function,glpi:e.glpi,request:e.request,key:e.name}):"date"===e.type?a.a.createElement(u.a,{label:e.label,name:e.name,value:e.value,function:e.function,key:e.name}):"textArea"===e.type?a.a.createElement(l.a,{label:e.label,type:e.type,name:e.name,value:e.value,placeholder:e.placeholder,function:e.function,disabled:e.disabled,style:e.style,delete:e.delete,key:e.name}):a.a.createElement(c.a,{label:e.label,type:e.type,name:e.name,value:e.value,placeholder:e.placeholder,function:e.function,disabled:e.disabled,style:e.style,delete:e.delete,parametersToEvaluate:e.parametersToEvaluate,forceValidation:e.forceValidation,key:e.name})}))};p.propTypes={icon:i.a.string,elements:i.a.array.isRequired,index:i.a.number.isRequired},p.defaultProps={icon:null},t.a=p},178:function(e,t,n){"use strict";var r=n(21);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return""!==r.a?e.split(r.a)[1].split("/")[t]:e.split("/")[t]}},972:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),u=n(1),l=n.n(u),c=n(55),p=n(973),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{routes:p.a,rootPath:this.props.match.url,toast:this.props.toast,handleMessage:this.props.handleMessage}))}}]),t}(i.PureComponent);d.propTypes={match:l.a.object.isRequired,toast:l.a.object.isRequired,handleMessage:l.a.func.isRequired},t.default=d},973:function(e,t,n){"use strict";var r=n(4),a=n(56),o=n(974),i=n(975),s=n(976),u=[{path:"/",name:r.default.t("about.help_center.home"),component:i.a,exact:!0},{path:"/error",name:"commons.error",component:a.default,exact:!0},{path:"/feedback",name:r.default.t("commons.feedback"),component:s.a,exact:!0},{path:"/:article",name:r.default.t("commons.article"),component:o.a,exact:!1}];t.a=u},974:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(49),u=n.n(s),l=n(0),c=n.n(l),p=n(1),f=n.n(p),d=n(4),m=n(50),h=n(178),b=n(140),y=n(139),v=n(159),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e){function t(e){var n=this;a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.componentDidMount=r(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.props.glpi.getAnItem({itemtype:m.a.KnowbaseItem,id:i.state.id});case 3:e.t0=e.sent,t={article:e.t0,isLoading:!1},i.setState(Object.assign({},t)),e.next=12;break;case 8:e.prev=8,e.t1=e.catch(0),i.props.toast.setNotification(i.props.handleMessage({type:"alert",message:e.t1})),i.setState({isLoading:!1});case 12:case"end":return e.stop()}},e,n,[[0,8]])})),i.state={article:void 0,id:Object(h.a)(i.props.history.location.pathname,4),isLoading:!0},i}return i(t,e),g(t,[{key:"htmlDecode",value:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}},{key:"render",value:function(){return this.state.isLoading?c.a.createElement("div",{style:{height:"100%",marginTop:"-80px"}},c.a.createElement(b.a,{message:d.default.t("commons.loading")+"..."})):c.a.createElement(y.a,null,c.a.createElement("h2",{style:{margin:"10px"}},this.state.article.name),c.a.createElement("div",{className:"date",style:{margin:"10px"}},this.state.article.date),c.a.createElement("div",{style:{margin:"10px"},dangerouslySetInnerHTML:{__html:this.htmlDecode(this.state.article.answer)}}))}}]),t}(l.PureComponent);w.propTypes={toast:f.a.shape({setNotification:f.a.func}).isRequired,handleMessage:f.a.func.isRequired,history:f.a.object.isRequired,glpi:f.a.object.isRequired},t.a=Object(v.a)(w)},975:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(49),u=n.n(s),l=n(0),c=n.n(l),p=n(1),f=n.n(p),d=n(176),m=n.n(d),h=n(52),b=n.n(h),y=n(4),v=n(50),g=n(21),w=n(140),E=n(139),_=n(159),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e){function t(e){var n=this;a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.itemRenderer=m.a.reactRenderer(function(e){return c.a.createElement("div",{style:{padding:"14px",width:"100%"},onClick:function(){return i.redirectToArticle(e.data.id)},role:"link",tabIndex:"0"},c.a.createElement("span",{className:"iconFont documentIcon",style:{marginRight:"5px"}}),e.data.name)}),i.componentDidMount=r(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.props.glpi.getAllItems({itemtype:v.a.KnowbaseItem});case 3:t=e.sent,r=t.slice().sort(function(e,t){return new Date(e).getTime()-new Date(t).getTime()}),r.splice(5),i.setState({articles:t,list:new b.a.Binding.List(r),suggestionList:t.map(function(e){return e.name}),isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i.props.handleMessage({type:"alert",message:e.t0,customErrorRoute:"/app/about/help/error"}),i.setState({isLoading:!1});case 13:case"end":return e.stop()}},e,n,[[0,9]])})),i.redirectToArticle=function(e){i.props.history.push(g.a+"/app/about/help/"+e)},i.redirectToFeedBack=function(){i.props.history.push(g.a+"/app/about/help/feedback")},i.showAllArticles=function(){i.setState(function(e){return{labelList:y.default.t("about.help_center.all_articles"),list:new b.a.Binding.List(e.articles)}})},i.filterArticles=function(e){var t=[];i.state.articles.forEach(function(n){n.name.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(n)}),i.setState({list:new b.a.Binding.List(t)})},i.handleSuggestionsRequested=function(e){var t=e.detail.queryText,n=t.toLowerCase(),r=e.detail.searchSuggestionCollection;if(t.length>0)for(var a=0,o=i.state.suggestionList.length;a<o;a+=1)-1!==i.state.suggestionList[a].toLowerCase().indexOf(n)&&r.appendQuerySuggestion(i.state.suggestionList[a])},i.handleQuerySubmitted=function(e){i.filterArticles(e.detail.queryText)},i.handleSearch=function(){i.filterArticles(document.getElementsByClassName("win-autosuggestbox-input win-textbox")[0].value)},i.state={articles:void 0,list:{},suggestionList:void 0,layout:{type:b.a.UI.ListLayout},labelList:y.default.t("about.help_center.recent_articles"),isLoading:!0},i}return i(t,e),O(t,[{key:"render",value:function(){return this.state.isLoading?c.a.createElement(w.a,{message:y.default.t("commons.loading")+"..."}):c.a.createElement(E.a,null,c.a.createElement("h2",{style:{margin:"10px"}},y.default.t("about.help_center.title")),c.a.createElement("div",{className:"list-pane",style:{padding:0}},c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",null,c.a.createElement("h3",{style:{margin:"10px"}},this.state.labelList)),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(m.a.AutoSuggestBox,{style:{marginTop:"20px",marginRight:"50px",width:"150px",minWidth:"unset"},placeholderText:y.default.t("about.help_center.search_an_article"),onSuggestionsRequested:this.handleSuggestionsRequested,onQuerySubmitted:this.handleQuerySubmitted})),c.a.createElement("div",{onClick:this.handleSearch,style:{fontSize:"20px",float:"right",marginTop:"-26px",marginRight:"20px",cursor:"pointer"},role:"button",tabIndex:"0"},c.a.createElement("span",{className:"iconFont searchIcon"}))))),c.a.createElement(m.a.ListView,{className:"list-pane__content win-selectionstylefilled",style:{height:"calc(100% - 48px)"},itemDataSource:this.state.list.dataSource,itemTemplate:this.itemRenderer,layout:this.state.layout,selectionMode:"single",tapBehavior:"directSelect"}),this.state.labelList!==y.default.t("about.help_center.recent_articles")?"":c.a.createElement("div",null,c.a.createElement("div",{className:"separator"}),c.a.createElement("div",null,c.a.createElement("a",{onClick:this.showAllArticles,role:"link",tabIndex:"0"},y.default.t("about.help_center.browse_all_articles")))),c.a.createElement("div",{className:"separator"}),c.a.createElement("div",{className:"itemList",onClick:this.redirectToFeedBack,role:"link",tabIndex:"0"},c.a.createElement("span",{className:"iconFont messageIcon",style:{marginRight:"5px"}}),y.default.t("about.help_center.send_feedback"))))}}]),t}(l.PureComponent);j.propTypes={handleMessage:f.a.func.isRequired,history:f.a.object.isRequired,glpi:f.a.object.isRequired},t.a=Object(_.a)(j)},976:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,o){try{var i=t[a](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(49),l=n.n(u),c=n(0),p=n.n(c),f=n(1),d=n.n(f),m=n(4),h=n(50),b=n(140),y=n(139),v=n(170),g=n(179),w=n(159),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e){function t(e){var n=this;o(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.handleSubmit=function(e){e.preventDefault(),s.setState({isLoading:!0},a(l.a.mark(function e(){var t,r,a,o,i,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.props.glpi.getActiveProfile();case 2:if(t=e.sent,r=t.active_profile,a=void 0,Array.isArray(r.entities))a=r.entities[0].id;else for(o in r.entities)Object.prototype.hasOwnProperty.call(r.entities,o)&&(a=""+r.entities[o].id);return e.next=8,s.props.glpi.getAnItem({itemtype:h.a.PluginFlyvemdmEntityconfig,id:a});case 8:i=e.sent,Array.isArray(i)&&(i=Object.assign({},i[0])),u="mailto:"+i.support_email+"?subject="+escape(s.state.subject)+"&body="+escape(s.state.textarea),window.location.href=u,setTimeout(function(){s.setState({feedbackSent:!0,isLoading:!1})},2e3);case 13:case"end":return e.stop()}},e,n)})))},s.changeMessage=function(e,t){s.setState(r({},e,t))},s.state={feedbackSent:!1,textarea:"",subject:m.default.t("about.help_center.feedback"),isLoading:!1},s}return s(t,e),E(t,[{key:"componentDidMount",value:function(){this.textareaInput&&this.textareaInput.focus()}},{key:"render",value:function(){return this.state.isLoading?p.a.createElement(b.a,{message:m.default.t("commons.sending")}):this.state.feedbackSent?p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{style:{textAlign:"center"}},p.a.createElement("h3",null,m.default.t("about.help_center.thank_you")),p.a.createElement("p",null,m.default.t("about.help_center.submission_received")))):p.a.createElement(y.a,{className:"feedback"},p.a.createElement("h3",null,m.default.t("about.help_center.feedback")),p.a.createElement("div",null,p.a.createElement("form",{onSubmit:this.handleSubmit},p.a.createElement(v.b,{label:m.default.t("commons.subject"),name:"subject",value:this.state.subject,function:this.changeMessage,required:!0}),p.a.createElement(v.d,{label:m.default.t("commons.message"),name:"textarea",value:this.state.textarea,function:this.changeMessage,placeholder:m.default.t("about.help_center.write_feedback"),required:!0}),p.a.createElement("button",{className:"btn btn--primary",type:"submit"},m.default.t("commons.send")))))}}]),t}(c.PureComponent);_.propTypes={glpi:d.a.object.isRequired},t.a=Object(w.a)(Object(g.a)(_))}});
//# sourceMappingURL=28.81a37c9b.chunk.js.map